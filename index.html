<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Пример маршрута Yandex Maps</title>
  <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&load=package.full"></script>
  <style>
    body, html { margin:0; padding:0; height:100%; }
    #map { width: 100%; height: 100%; }
  </style>
</head>
<body>
<div id="map"></div>
<script>
ymaps.ready(init);

function init() {
    var map = new ymaps.Map('map', {
        center: [55.76, 37.64],
        zoom: 10
    });

    // Пример двух точек маршрута
    var points = [
        [55.7558, 37.6173], // Красная площадь
        [55.7517, 37.6236]  // Театральная площадь
    ];

    // Создаём MultiRoute
    var multiRoute = new ymaps.multiRouter.MultiRoute({
        referencePoints: points,
        params: { routingMode: 'auto' } // можно auto, masstransit, pedestrian
    }, {
        boundsAutoApply: true,
        routeActiveStrokeColor: "#00f",
        routeActiveStrokeWidth: 5,
        wayPointVisible: true
    });

    // Добавляем маршрут на карту
    map.geoObjects.add(multiRoute);

    // События маршрута
    multiRoute.model.events.add('requestsuccess', function() {
        var routes = multiRoute.getRoutes();
        if (routes && routes.length > 0) {
            var route = routes.get(0);
            var distance = route.properties.get('distance').text;
            var duration = route.properties.get('duration').text;
            alert('Маршрут построен!\nРасстояние: ' + distance + '\nВремя: ' + duration);
        }
    });

    multiRoute.model.events.add('requesterror', function(event) {
        alert('Ошибка построения маршрута: ' + (event.get('error')?.message || 'unknown'));
    });
}
</script>
</body>
</html>
